/**
 * Настройки для сборки на Netlify
 * Этот файл содержит рекомендации и настройки для оптимизации сборки на Netlify
 */

module.exports = {
  // Переменные окружения, которые нужно установить в Netlify
  environmentVariables: {
    // Базовый URL для API
    API_URL: '/api',
    
    // Отключаем source maps в продакшене для уменьшения размера сборки
    GENERATE_SOURCEMAP: 'false',
    
    // Переменные для оптимизации Next.js
    NEXT_TELEMETRY_DISABLED: '1',
    NEXT_SHARP_PATH: '/tmp/node_modules/sharp',

    // MongoDB URI - нужно установить в настройках Netlify
    // MONGODB_URI: 'mongodb+srv://username:password@cluster.mongodb.net/database',
  },
  
  // Рекомендации по настройке сборки
  buildRecommendations: [
    'Установите переменные окружения в настройках Netlify (особенно MONGODB_URI)',
    'Включите кэширование сборки для ускорения повторных сборок',
    'Используйте Node.js 18 для совместимости с Next.js',
    'Увеличьте лимит памяти для Node.js до 4096 МБ',
  ],
  
  // Рекомендации по оптимизации
  optimizationTips: [
    'Используйте статическую генерацию (SSG) вместо серверного рендеринга (SSR) где возможно',
    'Минимизируйте количество зависимостей',
    'Оптимизируйте изображения перед загрузкой',
    'Используйте динамический импорт для разделения кода',
  ],
}; 